/* Simple Mermaid theme CSS - this gets injected via themeCSS, not as a stylesheet */

/* Fix node styling - readable text and backgrounds */
.node rect {
  fill: var(--sl-color-gray-2);
  stroke: var(--sl-color-gray-5);
}
.node text {
  fill: var(--sl-color-text);
}

/* Fix state nodes */
.state rect {
  fill: var(--sl-color-gray-2);
  stroke: var(--sl-color-gray-5);
}
.state text {
  fill: var(--sl-color-text);
}

/* State diagram specific - use Mermaid's actual classes */
.statediagram-state rect {
  fill: var(--sl-color-gray-2);
  stroke: var(--sl-color-gray-5);
}
.statediagram-state text {
  fill: var(--sl-color-text);
}

/* Fix state diagram groups/clusters - use theme colors */
.statediagram-cluster rect,
.statediagram-cluster.statediagram-cluster .inner {
  fill: var(--sl-color-bg);
  stroke: var(--sl-color-text);
}

/* Dark mode fix for clusters */
@media (prefers-color-scheme: dark) {
  .statediagram-cluster rect {
    fill: var(--sl-color-gray-2);
    stroke: var(--sl-color-gray-5);
  }
  .statediagram-cluster .inner rect {
    fill: var(--sl-color-gray-2);
    stroke: var(--sl-color-gray-5);
  }
}

/* Edge labels with better contrast */
.edgeLabel text { fill: var(--sl-color-text); }
.edgeLabel rect {
  fill: var(--sl-color-bg);
  stroke: var(--sl-color-gray-4);
}