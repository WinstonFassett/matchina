{"id":"matchina-1av","title":"Review: Evaluate examples for consistency and library usage","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T06:53:24.276481-06:00","updated_at":"2025-12-22T07:01:20.804509-06:00","closed_at":"2025-12-22T07:01:20.804509-06:00","close_reason":"Completed examples review - checkout clean, searchbar overcomplicated, nested-vs-flattened useful for docs"}
{"id":"matchina-1r3","title":"Make Mermaid flowchart viz support nesting","description":"Mermaid state chart shows nested machines but flowchart version does not.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-22T06:36:23.120013-06:00","updated_at":"2025-12-22T06:38:52.884144-06:00","closed_at":"2025-12-22T06:38:52.884144-06:00","close_reason":"Added recursive nesting support to toStateDiagram using subgraphs"}
{"id":"matchina-1ve","title":"Docs: Add StoreMachine guide and interactive example","description":"StoreMachine is a major feature but lacks:\\n- Dedicated guide page in docs/src/content/docs/guides/\\n- Interactive example in docs/src/code/examples/\\n- Comparison with FactoryMachine (when to use which)\\nRef: review/05-docs.md, review/06-demo.md","notes":"Post-merge task. Not dependent on TypeSlayer.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T12:18:11.152582-06:00","updated_at":"2025-12-25T17:24:23.131335-06:00"}
{"id":"matchina-22j","title":"Write comprehensive code review document HIERARCHICAL_MACHINES_R4_CODE_REVIEW.md","status":"closed","issue_type":"task","created_at":"2025-12-22T06:53:25.042595-06:00","updated_at":"2025-12-22T07:01:30.385632-06:00","closed_at":"2025-12-22T07:01:30.385632-06:00","close_reason":"Review document complete: HIERARCHICAL_MACHINES_R4_CODE_REVIEW.md with full analysis, findings, and recommendations","dependencies":[{"issue_id":"matchina-22j","depends_on_id":"matchina-64z","type":"blocks","created_at":"2025-12-22T06:53:37.351285-06:00","created_by":"daemon"},{"issue_id":"matchina-22j","depends_on_id":"matchina-tjx","type":"blocks","created_at":"2025-12-22T06:53:37.484731-06:00","created_by":"daemon"},{"issue_id":"matchina-22j","depends_on_id":"matchina-1av","type":"blocks","created_at":"2025-12-22T06:53:37.62052-06:00","created_by":"daemon"},{"issue_id":"matchina-22j","depends_on_id":"matchina-df4","type":"blocks","created_at":"2025-12-22T06:53:37.73589-06:00","created_by":"daemon"},{"issue_id":"matchina-22j","depends_on_id":"matchina-hd1","type":"blocks","created_at":"2025-12-22T06:53:37.85162-06:00","created_by":"daemon"}]}
{"id":"matchina-2yn","title":"Fix doc links created in this branch","description":"Fix any doc links broken by changes in this branch only.\n\nTasks:\n- Identify links broken by HSM changes\n- Fix only those affected by this branch\n\nAcceptance:\n- No broken links from branch changes\n- Other broken links deferred to post-merge\n\nPriority: could-do (not blocking merge)","notes":"Reviewed git diff. No doc links were broken by changes in this branch. All new files (hsm.ts, review docs) are self-contained. No action needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:19:41.281202-06:00","updated_at":"2025-12-25T16:36:34.447657-06:00","closed_at":"2025-12-25T16:36:34.447664-06:00"}
{"id":"matchina-64z","title":"Review: Identify all hierarchical machine implementation files","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T06:53:23.842184-06:00","updated_at":"2025-12-22T06:55:19.398467-06:00","closed_at":"2025-12-22T06:55:19.398467-06:00","close_reason":"Cataloged all HSM implementation files in /tmp/hsm-implementation-files.md"}
{"id":"matchina-678","title":"API: Export HSM APIs from main package","description":"HSM APIs not properly exported, forcing demos to use deep imports:\\n- submachine (src/nesting/submachine.ts)\\n- defineMachine (src/definitions.ts)\\n- createHierarchicalMachine (src/nesting/propagateSubmachines.ts)\\n- defineSubmachine (src/definitions.ts)\\n- flattenMachineDefinition (src/definitions.ts)\\n\\nEither export from 'matchina' or create 'matchina/hsm' subpath.\\nRef: review/06-demo.md, review/02-api-surface.md","notes":"Completed in this branch. HSM APIs exported from matchina/hsm subpath.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-25T12:18:05.173175-06:00","updated_at":"2025-12-25T16:36:43.460025-06:00","closed_at":"2025-12-25T16:36:43.460032-06:00"}
{"id":"matchina-6eh","title":"Design: Decide between HSM Flattening vs Propagation","description":"Two competing HSM approaches exist without clear guidance:\\n1. Flattening (definitions.ts) - compile-time, produces dot-separated keys\\n2. Propagation (propagateSubmachines.ts) - runtime, preserves nested structure\\n\\nNeed to either:\\n- Pick one as primary and deprecate the other\\n- Clearly differentiate use cases in docs\\n- Document trade-offs (type inference, performance, debugging)\\nRef: review/01-architecture.md, review/90-synthesis.md","notes":"Completed in this branch. HSM APIs exported from matchina/hsm with flattening as primary and propagation as experimental escape hatch.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T12:18:19.717669-06:00","updated_at":"2025-12-25T16:35:58.521584-06:00","closed_at":"2025-12-25T16:35:58.521627-06:00","labels":["decision"]}
{"id":"matchina-aj9","title":"Merge branch to main","description":"Merge hierarchical-machines-with-viz-r5 to main after TypeSlayer analysis.\n\nBlocked by:\n- matchina-v38 (TypeSlayer analysis)","notes":"Marked with tag merge-ready-hsm-r5. Not merging yet - doing TypeSlayer analysis first on new branch.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-25T16:19:46.514082-06:00","updated_at":"2025-12-25T17:24:15.854711-06:00"}
{"id":"matchina-ayj","title":"Mark propagation experimental","description":"Add @experimental JSDoc to propagation APIs to signal flattening is primary.\n\nTasks:\n- Add @experimental JSDoc to propagateSubmachines\n- Add @experimental JSDoc to createHierarchicalMachine\n- Update any docs referencing propagation\n\nAcceptance:\n- IDE shows experimental warning\n- Docs clearly state flattening is primary approach\n\nBlocks: branch merge","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:18:24.014698-06:00","updated_at":"2025-12-25T16:21:32.598196-06:00","closed_at":"2025-12-25T16:21:32.598202-06:00"}
{"id":"matchina-dco","title":"Mermaid vis seems to have lost clickable available actions","description":"in mermaid diagrams we generally want interactivity except where the machine/ui requires parameters be sent. i am not seeing this behavior in some of our diagrams. maybe we changed it to default to noninteractive. currently working on hierarchical examples for tag list editor and checkout flow, but would also like to add viz to the nested vs flattened examples, but all of those should allow interactivity in the diagram except where parameters are required, and even if they are there is probably a way to create a parameterless extension that handles that part.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-25T08:54:11.806514-06:00","updated_at":"2025-12-25T11:04:45.233561-06:00","closed_at":"2025-12-25T11:04:45.233561-06:00","close_reason":"Closed"}
{"id":"matchina-df4","title":"Review: Check documentation accuracy and completeness","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T06:53:24.46845-06:00","updated_at":"2025-12-22T07:01:46.265969-06:00","closed_at":"2025-12-22T07:01:46.265969-06:00","close_reason":"Documentation review deprioritized per user - focus was on core implementation quality"}
{"id":"matchina-dfp","title":"Review: Library Architecture Analysis and Planning","description":"Multi-prompt systematic review of matchina library. Prompts 0-9 covering structure, conceptual model, architecture, API surface, HSM semantics, types, docs, demo, synthesis, and task extraction.","notes":"Review complete. All strategic decisions made, documented in review/ folder.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T12:06:58.767443-06:00","updated_at":"2025-12-25T16:39:32.059597-06:00","closed_at":"2025-12-25T16:39:32.059609-06:00"}
{"id":"matchina-eqn","title":"Nested machine visualizations should probably allow ancestor actions to be invoked","description":"ie while in payment, UI shows ability to go back, exit or child.exit, but in visualizer those are not clickable. they should be","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-25T08:50:29.349181-06:00","updated_at":"2025-12-25T11:03:44.482838-06:00","closed_at":"2025-12-25T11:03:44.482838-06:00","close_reason":"Closed"}
{"id":"matchina-fkw","title":"HSM packaging: Export from matchina/hsm","description":"Export flattening APIs from matchina/hsm subpath, mark propagation experimental.\n\nTasks:\n- Create/update matchina/hsm entry point\n- Export flattening APIs: flattenMachineDefinition, defineSubmachine, defineMachine\n- Export propagation APIs with experimental marker\n- Verify tree-shaking works\n\nAcceptance:\n- import { flattenMachineDefinition } from 'matchina/hsm' works\n- Propagation doesn't get bundled if not imported\n\nBlocks: branch merge","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:18:02.104911-06:00","updated_at":"2025-12-25T16:20:51.958958-06:00","closed_at":"2025-12-25T16:20:51.958967-06:00"}
{"id":"matchina-hd1","title":"Review: Catalog working docs for deletion/relocation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T06:53:24.829879-06:00","updated_at":"2025-12-22T06:55:57.646805-06:00","closed_at":"2025-12-22T06:55:57.646805-06:00","close_reason":"Cataloged working docs in /tmp/working-docs-catalog.md - 16 files for immediate deletion, 8 for evaluation"}
{"id":"matchina-nj2","title":"Docs: Fix 9 broken internal links","description":"Fix verified broken links in docs:\\n- traffic-light-extended.mdx: /matchina/guides/nested-states → /matchina/guides/hierarchical-machines\\n- traffic-light-extended.mdx: /matchina/guides/history (remove or create page)\\n- traffic-light.mdx, fetcher-advanced.mdx: /matchina/guides/matchbox-typescript-inference → /matchina/guides/machine-inference\\n- machines.mdx: Add /guides/ to paths for lifecycle, effects, promises, react, matchbox\\nRef: review/05-docs.md","notes":"Post-merge task. Not dependent on TypeSlayer.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-25T12:17:51.385277-06:00","updated_at":"2025-12-25T17:24:28.122827-06:00"}
{"id":"matchina-qcq","title":"Audit new type definitions for any usage","description":"Check definition-types.ts and related files created in this branch for any usage.\n\nTasks:\n- Check definition-types.ts for any usage\n- Check other type files added/modified in this branch\n- Document each instance and proposed fix\n- Create post-merge ticket with findings\n\nAcceptance:\n- List of any usages in new types only\n- Post-merge ticket created\n\nPriority: should-do (not blocking merge)","notes":"Found 20 'any' in definition-types.ts and 43 in definitions.ts. Most are in implementation code, but some in type definitions:\n\nType definitions with 'any':\n- MachineDefinition\u003cany, any, any\u003e (multiple places)\n- StateMatchboxFactory\u003cany\u003e (multiple places)\n- FactoryMachineTransitions\u003cF\u003e where F extends StateMatchboxFactory\u003cany\u003e\n- FlattenedStates\u003cS = any\u003e\n- FlattenedTransitions\u003cE extends string = string, To = any\u003e\n- FlatBuild: Record\u003cstring, any\u003e\n\nThese should be replaced with proper generics or 'unknown' in post-merge work.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:19:36.098438-06:00","updated_at":"2025-12-25T16:36:17.461786-06:00","closed_at":"2025-12-25T16:36:17.461794-06:00"}
{"id":"matchina-qtb","title":"Docs: Remove duplicate sections in README","description":"README.md has duplicate sections:\\n- 'Philosophy \u0026 Inspiration' appears twice (lines 13-24 and 20-24)\\n- 'What is Matchina?' appears twice (lines 2-11 and 26-28)\\n- 'Installation' appears twice (lines 54-58 and 674-678)\\nRef: review/05-docs.md","notes":"Post-merge task. Not dependent on TypeSlayer.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-25T12:17:58.185679-06:00","updated_at":"2025-12-25T17:24:24.607309-06:00"}
{"id":"matchina-r1d","title":"Deprecate matchina() function","description":"Add @deprecated JSDoc to matchina() pointing to createMachine().extend(withEventApi).\n\nTasks:\n- Add @deprecated JSDoc to matchina() function\n- Add deprecation message pointing to createMachine(...).extend(withEventApi)\n- Keep function working (no breaking change)\n\nAcceptance:\n- IDE shows deprecation warning\n- Function still works\n\nBlocks: branch merge","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-25T16:18:49.548435-06:00","updated_at":"2025-12-25T16:22:16.528316-06:00","closed_at":"2025-12-25T16:22:16.528328-06:00"}
{"id":"matchina-tjx","title":"Review: Analyze hierarchical machine tests for coverage and quality","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T06:53:24.063354-06:00","updated_at":"2025-12-22T06:59:09.147997-06:00","closed_at":"2025-12-22T06:59:09.147997-06:00","close_reason":"Completed test analysis - 23 tests, 2349 total lines, comprehensive coverage of propagation, stamping, child.exit"}
{"id":"matchina-v38","title":"TypeSlayer analysis for type performance","description":"Run TypeSlayer to identify type bottlenecks in matchina.\n\nTasks:\n- Run TypeSlayer on matchina codebase\n- Identify specific type performance issues\n- Focus on complex mapped types (ExtractEventParams, FlattenFactoryStateKeys)\n- Document findings and proposed fixes\n\nBlocks: matchina-aj9 (merge to main)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-25T16:36:03.133615-06:00","updated_at":"2025-12-25T17:34:46.732283-06:00","closed_at":"2025-12-25T17:34:46.732283-06:00","close_reason":"Closed"}
{"id":"matchina-vzq","title":"Nested tick event not working in traffic light example","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-22T00:01:31.993729-06:00","updated_at":"2025-12-22T00:12:54.665645-06:00","closed_at":"2025-12-22T00:12:54.665645-06:00","close_reason":"Fixed: propagateSubmachines now creates a new change event when child transitions, enabling React's useSyncExternalStore to detect changes. Added FactoryMachineEventImpl import and modified child.change handler to call transition() with a self-transition event (same from/to state but new event object). All tests pass including new hsm.react-change-detection.test.ts that specifically verifies the fix."}
